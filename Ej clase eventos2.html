<!DOCTYPE HTML>
<html>
	<head>
		<title>Ej clase eventos2</title>
		<meta charset="utf-8">
	</head>
	<body>
		<script>
			window.onload = function(){
				function operacion()
				{
					if(this.className == "p1")
					{
						let parr = document.createElement("p");
						let texto = document.createTextNode(this.innerHTML);
						parr.appendChild(texto);
						document.body.appendChild(parr);
						parr.className="p2";
						parr.addEventListener('click', operacion);
					}
					else
					{
						this.parentNode.removeChild(this);
					}
				}	
			
				let parrafos = document.getElementsByTagName("p");
				for(let i = 0; i < parrafos.length; i++)
				{
					parrafos[i].onclick=operacion;
				}
				
			}
		</script>
		<h1>Prueba</h1>
		<p class="p1">Párrafo1</p>
		<p class="p2">Párrafo2</p>
		<p class="p1">Párrafo3</p>
		<p class="p2">Párrafo4</p>
		<p class="p1">Párrafo5</p>
	</body>
</html>

//p1 duplica
//p2 borra